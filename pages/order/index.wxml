<view class="container m-b5">
  <view class="goods-detail-box">
    <view class="header f-28 col-3">
      <view catchtap="bindHeaderTap" class="{{dataType==='all'?'active':''}}" data-type="all">全部订单</view>
      <view bindtap="bindHeaderTap" class="{{dataType==='payment'?'active':''}}" data-type="payment">待付款</view>
       <view bindtap="bindHeaderTap" class="{{dataType==='delivery'?'active':''}}" data-type="delivery">待发货</view>
      <view bindtap="bindHeaderTap" class="{{dataType==='received'?'active':''}}" data-type="received">待收货</view>
      <view bindtap="bindHeaderTap" class="{{dataType==='received'?'active':''}}" data-type="received">待评价</view>
    </view>
    <scroll-view scroll-y="{{true}}">
      <view class="wrapper">
        <view wx:if="{{list.length}}">
          <block wx:for="{{list}}" wx:key="this">
              <view class="m-top20 " wx:if="{{item.status!==2}}">
                  <view class="order-box b-f">
                    <view class="order-header dis-flex">
                      <view class="flex-box t-l">
                        <text class="title">商品列表</text>
                      </view>
                      <view class="flex-box t-r">
                        <text class="cont col-m" >{{goodsStatus[item.status]}}</text>
                      </view>
                    </view>
                  </view>
                  <view class="order-box b-f">
                    <view class="order-cont dis-flex">
                      <view class="order-num">
                        <text>订单号：{{item.order_no}}</text>
                      </view>
                      <view class="order-time">
                        <text>{{item.create_time}}</text>
                      </view>
                    </view>
                  </view>
                  <view class="order-box order-img_list">
                    <view class="order-shop">
                      <view bindtap="detail" class="order-list-box dis-flex" data-id="{{item.id}}">
                        <view class="left">
                          <view class="dis-flex goods-item" wx:for-item="s_item" wx:for="{{item.delivery_list[0].spec_list}}" wx:key="{{item.id}}">
                            <view class="order-shop-left">
                              <image src="{{s_item.cover}}"></image>
                            </view>
                            <view class="content">
                              <view class="content-text">
                                  <view class="name">{{s_item.goods_name}}</view>
                                  <view class="desc">{{s_item.spec_sku}}</view>
                              </view>
                              <view class="prize-box">
                                支付方式：
                                <view wx:if="{{s_item.price>0}}" class="prize">现金：{{s_item.price}}</view>
                                <view wx:if="{{s_item.integral_price>0}}" class="flower-count">{{s_item.integral_price}}</view>
                              </view>
                              <view class="count">x{{s_item.total_num}}</view>
                            </view>
                          </view>
                        </view>
                        <!-- <view class="right p-r">
                          <button class="btn pay-btn">去支付</button>
                        </view> -->
                      </view>
                    </view>
                  </view>
                  <view class="order-box b-f">
                    <view class="order-btn dis-flex">
                      <view class="order-left">
                        <view class="text">
                     
                          <view class="total">共{{item.total_count}}件商品</view>
                          <!-- <view class="dis-flex"> -->
                            <text>合计：</text>
                            <text wx:if="{{item.price}}" class="col-m">现金￥{{item.price}}</text>  
                            <text wx:if="{{item.integral_price>0}}" class="flower-count">{{item.integral_price}}</text>
                          <!-- </view> -->
                          
                        </view>
                        
                      </view>
                      <view class="order-right">
                        <view class="dis-flex">
                          <view class="flex-box btn pay-btn" wx:if="{{item.pay_status.value==10}}">
                            <view bindtap="cancelOrder" class="btn-default" data-id="{{item.order_id}}">取消</view>
                          </view>
                          <view class="flex-box" wx:if="{{(item.status==0 || item.status==2)?true:false}}">
                            <view bindtap="payOrder" class="btn btn-main" data-id="{{item.id}}">立即支付</view>
                          </view>
                          <view class="flex-box btn" wx:if="{{item.delivery_status.value==20 && item.receipt_status.value == 10}}">
                            <view bindtap="receipt" class="btn-main" data-id="{{item.order_id}}">确认收货</view>
                          </view>
                        </view>
                      </view>
                    </view>
                  </view>
                </view>
          </block>
          
        </view>
        <view wx:else>
          <view class="yoshop-notcont">
            <text class="iconfont icon-ziyuan"></text>
            <text class="cont">亲，您还没有订单信息哦！</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>
</view>